#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 101

int main(){
    char nome[21];
    char linha[MAX];
    char barras[3] = "//";
    printf("Nome do arquivo: ");
    scanf("%20s",nome);
    FILE*file = fopen(nome,"r");
    if (file==NULL)exit(1);
    FILE*newfile = fopen("sem_comentarios.c","w");
    if(newfile==NULL)exit(1);
    
    while (fgets(linha,MAX,file)!=NULL){//le todas as linhas do file
    
    if(strstr(linha,barras)==NULL){//identifica as linhas sem comentarios
        fputs(linha,newfile);//escreve a linha no novo arquivo
        
    }
    }
    
    fclose(newfile);
    fclose(file);
    newfile = fopen("sem_comentarios.c","r");
    if (newfile==NULL)exit(1);
    while(fgets(linha,MAX,newfile)!=NULL){
        printf("%s",linha);
        
    }
    fclose(newfile);
    return 0;
}
