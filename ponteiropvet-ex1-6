
#include <stdio.h>
#include <stdlib.h>

float *acima_da_media(int n, float *vet, int *tam){
    int i,j=0;
    float soma = 0;
    int cont = 0;
    float media;
    for (i=0;i<n;i++){
        soma+=vet[i];
    }
    media = soma/n;
    for (i=0;i<n;i++){
        if(vet[i]>media) cont++; 
    }
    *tam = cont;
    float *nvet = (float*)malloc(cont*sizeof(float));
    if (nvet == NULL) {printf("error na alocação de memoria");exit(1);}
    
    
    for (i=0;i<n;i++){
    if (vet[i]>media){
    nvet[j]=vet[i];j++;
    }
    }
    return nvet;
    
}



int main() {
    int i,n = 6;
    float vetor[] = {1.2,4.0,7.4,2.4,9.0,8.4};
    int *tam = (int*)malloc(sizeof(int));
    float*vetor2 = acima_da_media(n,vetor,tam);
    printf("o vetor gerado possui os seguintes elementos: \n");
    for (i=0;i<*tam;i++){
        printf("%.2f, ",vetor2[i]);
    }

    free(vetor2);
    free(tam);
    return 0;
}
