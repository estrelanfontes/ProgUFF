// Ia fazer retornando um vetor alocado dinamicamento, depois decidi passar o novo vetor por ponteiro, 
//deu errado então voltei a ideia inicial mas substitui o vetor original para o vetor das repetiçoes.
//Vou mudar isso pois precisa dos dois vetores na main pra fzr a melhoria

#include <stdio.h>
#include <stdlib.h>

void repetido(int*vetor, int *tam){
    int i,j=0,novotam=0,cont=0;
    
    //inserir os numeros repetidos no novo vetor temporario
    while (j<*tam){
    for (i=j+1;i<*tam;i++){
        if (vetor[j]==vetor[i])novotam++;
    }
    j++;
    }
    int* novovetor = (int*)malloc(novotam*sizeof(int));
    if (novovetor==NULL)exit(1);
    if (novotam==0){
        printf("nao há repetiçoes");
        *tam=0;
        free(novovetor);
        return;
    }
    //inserindo os numeros repetidos no vetor original
    while(cont<novotam){
    for(j=0;j<*tam;j++){
        for (i=j+1;i<*tam;i++){
            if(vetor[j]==vetor[i]) {
                novovetor[cont] = vetor[i];
                cont++;
                break;
                
            }
    }
    }
    }
    //transferindo valores pro vetor
    for (i = 0; i < novotam; i++) {
        vetor[i] = novovetor[i];
    }
    
    *tam = novotam;
    free(novovetor);


}

int main() {
int i,j,elemento;
int* tam = (int*)malloc(sizeof(int));
if (tam==NULL) exit(1);

printf("tamanho do vetor: ");
scanf("%d",tam);

int*vetor = (int*)malloc((*tam)*sizeof(int));
if (vetor==NULL) exit(1);
for (i=0;i<*tam;i++){
    printf("\nadicione um valor inteiro entre zero e nove: ");
    scanf("%d",&elemento);
    vetor[i]=elemento;
    
}

repetido(vetor,tam);
if (*tam>0){
for (i=0;i<*tam;i++){ 
printf("\nnumero repetido: %d",vetor[i]);
}
}
free(vetor);
free(tam);
    return 0;
}

//Melhoria: adicionar ao novo vetor apenas um numero que pode ter sido repetido mais de duas vezes.
//No momento esta sendo adicionado todas as repetiçoes do numero x, entao um numero repetido 3 vezes aparece duas vezes no novo vetor ao inves de uma só. 
//Isso corrompe o print dos numeros repetidos e afeta o tamanho do novo vetor
//melhoria2: fzr tudo na main, a questao pede(e era mais facil aaaaa)
